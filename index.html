<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CrossBlocks ‚Äì √âditeur de cartes</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="admin.js"></script>
<script src="script.js"></script>
</head>

<body>

<!-- PAGE D‚ÄôACCUEIL -->
<div id="home" style="background:white; padding:50px; text-align:center;">
  <img src="logo.svg" class="logo" style="height:100px;">
  <h1 style="font-size:48px; margin:20px 0;">CrossBlocks</h1>
  <p style="font-size:18px; max-width:600px; margin:auto;">
    CrossBlocks est un g√©n√©rateur de cartes et d‚Äôunit√©s pour vos jeux de strat√©gie ou wargames LEGO. Cr√©ez vos unit√©s, choisissez leurs caract√©ristiques, appliquez un th√®me et exportez vos cartes en PDF.
  </p>
  <p style="margin-top:30px; font-weight:bold;">√âditeur de fiches personnages :</p>
</div>

<hr style="margin:30px 0;">

<!-- √âDITEUR -->
<div class="controls">

  <label>Nom :</label>
  <input id="name" placeholder="Nom de l'unit√©">

  <label>Points :</label>
  <input id="points" type="number">

  <label>PV :</label>
  <input id="hp" type="number">

  <label>Armure :</label>
  <input id="armor" type="number">

  <label>Mouvement :</label>
  <input id="move" type="number">

  <label>Th√®me :</label>
  <select id="theme" onchange="setTheme(this.value)">
    <!-- Options g√©n√©r√©es dynamiquement depuis CONFIG -->
  </select>

  <br><br>
  <button onclick="addCard()">Ajouter √† la page</button>
  <button onclick="exportPDF()">Exporter PDF A6</button>

  <!-- Bouton admin secret -->
  <button onclick="promptAdmin()">üîí Admin</button>
</div>

<hr>

<!-- Conteneur des cartes g√©n√©r√©es -->
<div id="cards-container" style="display:flex; flex-wrap:wrap; justify-content:center; gap:20px;"></div>

<!-- PANNEAU ADMIN -->
<div id="adminPanel" style="display:none; position:fixed;top:5%;left:5%; width:90%;height:90%; background:white;color:black; z-index:9999; overflow:auto;padding:20px;">
  <h2>Panneau Admin</h2>
  <button onclick="closeAdmin()">Fermer</button>
  <hr>
  <h3>Modifier les th√®mes</h3>
  <div id="adminThemes"></div>
  <h3>Modifier les armes</h3>
  <div id="adminWeapons"></div>
</div>

<!-- SCRIPT DE D√âMARRAGE -->
<script>
// G√©n√©ration automatique des options de th√®me depuis CONFIG
const themeSelect = document.getElementById("theme");
function populateThemeOptions(){
  themeSelect.innerHTML = "";
  CONFIG.themes.forEach(t=>{
    const opt = document.createElement("option");
    opt.value = t;
    opt.text = t;
    themeSelect.appendChild(opt);
  });
  setTheme(CONFIG.themes[0]);
}
populateThemeOptions();
</script>

</body>
</html>
