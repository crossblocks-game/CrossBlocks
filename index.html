<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- SEO: Title optimisÃ© (60 caractÃ¨res max, mots-clÃ©s en premier) -->
<title>CrossBlocks â€” Wargame LEGO Star Wars | CrÃ©er vos cartes d'unitÃ©s</title>

<!-- SEO: Meta description (155 caractÃ¨res, incite au clic) -->
<meta name="description" content="CrossBlocks : crÃ©ez et imprimez vos cartes d'unitÃ©s pour wargame LEGO Star Wars. Ã‰diteur gratuit, simulateur de batailles, export PDF. Jouez en ligne !">

<!-- SEO: Keywords -->
<meta name="keywords" content="wargame LEGO, CrossBlocks jeu, crÃ©er cartes wargame, wargame Star Wars, jeu stratÃ©gie LEGO, cartes unitÃ©s LEGO, wargame figurines, jeu de guerre LEGO, simulateur bataille LEGO">

<!-- SEO: Auteur et robots -->
<meta name="author" content="CrossBlocks">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://crossblocks-game.github.io/CrossBlocks/">

<!-- SEO: Open Graph (Facebook, Discord, etc.) -->
<meta property="og:type" content="website">
<meta property="og:title" content="CrossBlocks â€” Wargame LEGO Star Wars gratuit">
<meta property="og:description" content="CrÃ©ez vos cartes d'unitÃ©s, simulez des batailles et jouez au wargame LEGO Star Wars. Ã‰diteur en ligne gratuit avec export PDF.">
<meta property="og:url" content="https://crossblocks-game.github.io/CrossBlocks/">
<meta property="og:image" content="https://crossblocks-game.github.io/CrossBlocks/logo.svg">
<meta property="og:site_name" content="CrossBlocks">
<meta property="og:locale" content="fr_FR">

<!-- SEO: Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="CrossBlocks â€” Wargame LEGO Star Wars">
<meta name="twitter:description" content="CrÃ©ez vos cartes d'unitÃ©s pour wargame LEGO. Ã‰diteur gratuit + simulateur de batailles en ligne.">
<meta name="twitter:image" content="https://crossblocks-game.github.io/CrossBlocks/logo.svg">

<!-- SEO: Schema.org JSON-LD (donnÃ©es structurÃ©es) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "CrossBlocks",
  "description": "Ã‰diteur de cartes et simulateur de batailles pour wargame LEGO Star Wars",
  "url": "https://crossblocks-game.github.io/CrossBlocks/",
  "applicationCategory": "GameApplication",
  "operatingSystem": "Web",
  "offers": { "@type": "Offer", "price": "0", "priceCurrency": "EUR" },
  "inLanguage": "fr",
  "genre": ["Wargame", "Strategy", "LEGO"],
  "image": "https://crossblocks-game.github.io/CrossBlocks/logo.svg"
}
</script>

<!-- Favicon -->
<link rel="icon" href="logo.svg" type="image/svg+xml">

<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="themes.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="config.js"></script>
</head>
<body>

<!-- Navigation -->
<nav class="site-nav">
  <a href="index.html" class="nav-title">CROSSBLOCKS</a>
  <span class="nav-sep">|</span>
  <a href="index.html" class="nav-active">ğŸ“ Ã‰diteur de cartes</a>
  <a href="game.html">ğŸ® Simulateur</a>
</nav>

<!-- Fond fixe -->
<div class="fixed-bg"></div>
<div class="overlay-dark"></div>

<div class="main-content">

  <!-- HEADER -->
  <header class="site-header" itemscope itemtype="https://schema.org/WebApplication">
    <img src="logo.svg" class="logo" alt="CrossBlocks â€” Wargame LEGO Star Wars" itemprop="image">
    <h1 class="site-title" itemprop="name">CROSSBLOCKS</h1>
    <p class="site-desc" itemprop="description">Le <strong>wargame LEGO Star Wars</strong> gratuit en ligne.<br>
      <strong>CrÃ©ez vos cartes</strong> d'unitÃ©s, simulez des batailles et exportez en PDF.</p>
    <div class="header-buttons">
      <a href="https://discord.gg/CMntzhndfs" target="_blank" class="btn btn-discord" rel="noopener" onclick="window.open(this.href,'_blank');return false;">ğŸ’¬ Discord</a>
    </div>
  </header>

  <!-- â•â•â• Ã‰DITEUR â•â•â• -->
  <section class="editor-section">
    <h2 class="section-title">ğŸ“ Ã‰diteur de fiches</h2>

    <div class="editor-layout">

      <!-- FORMULAIRE -->
      <div class="editor-form">

        <div class="form-group">
          <label for="ed-name">Nom de l'unitÃ©</label>
          <input id="ed-name" placeholder="Ex: Clone Phase 2" oninput="updatePreview()">
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="ed-faction">Faction</label>
            <select id="ed-faction" onchange="updatePreview()"></select>
          </div>
          <div class="form-group">
            <label for="ed-theme">ThÃ¨me visuel</label>
            <select id="ed-theme" onchange="updatePreview()"></select>
          </div>
        </div>

        <div class="form-row form-row-4">
          <div class="form-group">
            <label>â­ Points</label>
            <input id="ed-points" type="number" value="200" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>â¤ï¸ PV</label>
            <input id="ed-hp" type="number" value="2" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>ğŸ›¡ï¸ Armure</label>
            <input id="ed-armor" type="number" value="15" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>ğŸƒ Mouvement</label>
            <input id="ed-move" type="number" value="0" oninput="updatePreview()">
          </div>
        </div>

        <div class="form-group">
          <label>âš¡ Points d'Action</label>
          <input id="ed-pa" type="number" value="5" min="1" max="8" oninput="updatePreview()">
        </div>

        <!-- SÃ©lecteur d'armes -->
        <div class="form-group">
          <label>ğŸ”« Armes (cochez pour ajouter)</label>
          <div id="weapon-selector" class="weapon-grid"></div>
        </div>

        <div class="form-actions">
          <button class="btn btn-add" onclick="addCard()">â• Ajouter la carte</button>
          <button class="btn btn-calc" onclick="calcPrice()">ğŸ’° Calculer le prix</button>
          <button class="btn btn-secondary" onclick="clearForm()">ğŸ—‘ï¸ Vider le formulaire</button>
        </div>
        <div id="price-breakdown" class="price-breakdown" style="display:none"></div>
      </div>

      <!-- APERÃ‡U EN DIRECT -->
      <div class="preview-area">
        <div class="preview-label">AperÃ§u en direct</div>
        <div id="card-preview" class="card theme-metal">
          <div class="card-header">
            <span class="card-faction-badge">RÃ©publique</span>
            <span class="card-points">â­ 200</span>
          </div>
          <h2 class="card-name">Nom de l'unitÃ©</h2>
          <div class="card-stats">
            <div class="card-stat"><span class="stat-icon">â¤ï¸</span><span class="stat-val" id="pv-hp">2</span><span class="stat-label">PV</span></div>
            <div class="card-stat"><span class="stat-icon">ğŸ›¡ï¸</span><span class="stat-val" id="pv-arm">15</span><span class="stat-label">Armure</span></div>
            <div class="card-stat"><span class="stat-icon">ğŸƒ</span><span class="stat-val" id="pv-move">+0</span><span class="stat-label">Mouv.</span></div>
            <div class="card-stat"><span class="stat-icon">âš¡</span><span class="stat-val" id="pv-pa">5</span><span class="stat-label">PA</span></div>
          </div>
          <div class="card-weapons" id="pv-weapons">
            <div class="card-no-weapon">Aucune arme sÃ©lectionnÃ©e</div>
          </div>
          <div class="card-footer">CROSSBLOCKS</div>
        </div>
      </div>

    </div>
  </section>

  <!-- â•â•â• GALERIE D'UNITÃ‰S â•â•â• -->
  <section class="gallery-section">
    <h2 class="section-title">ğŸ¨ Galerie â€” Ajout rapide</h2>
    <div class="gallery-tabs">
      <button class="btn btn-tab active" onclick="switchGalleryTab('units',this)">ğŸª– UnitÃ©s</button>
      <button class="btn btn-tab" onclick="switchGalleryTab('vehicles',this)">ğŸš— VÃ©hicules</button>
    </div>
    <div class="gallery-filters">
      <button class="btn btn-filter active" onclick="filterGallery('all',this)">Toutes</button>
      <button class="btn btn-filter" onclick="filterGallery('RÃ©publique',this)">RÃ©publique</button>
      <button class="btn btn-filter" onclick="filterGallery('SÃ©paratistes',this)">SÃ©paratistes</button>
      <button class="btn btn-filter" onclick="filterGallery('Rebelles',this)">Rebelles</button>
    </div>
    <div id="gallery-grid" class="gallery-grid"></div>
  </section>

  <!-- â•â•â• CARTES GÃ‰NÃ‰RÃ‰ES â•â•â• -->
  <section class="cards-section">
    <div class="cards-toolbar">
      <h2 class="section-title">ğŸƒ Cartes gÃ©nÃ©rÃ©es</h2>
      <div class="cards-actions">
        <span id="card-count" class="card-counter">0 carte(s)</span>
        <button class="btn btn-export" onclick="exportPDF()" id="btn-export" disabled>ğŸ“„ PDF</button>
        <button class="btn btn-save" onclick="saveToJSON()">ğŸ’¾ Exporter JSON</button>
        <button class="btn btn-load" onclick="document.getElementById('json-upload').click()">ğŸ“‚ Importer</button>
        <input type="file" id="json-upload" accept=".json" style="display:none" onchange="loadFromJSON(this)">
        <button class="btn btn-danger" onclick="clearAllCards()" id="btn-clear-all" style="display:none">ğŸ—‘ï¸ Tout supprimer</button>
      </div>
    </div>
    <div id="save-indicator" class="save-indicator">ğŸ’¾ Sauvegarde auto activÃ©e</div>
    <div id="cards-container" class="cards-grid">
      <div class="cards-empty">Aucune carte pour l'instant. Utilisez l'Ã©diteur ou la galerie ci-dessus !</div>
    </div>
  </section>

  <!-- â•â•â• PROPOSER UNE UNITÃ‰ â•â•â• -->
  <section class="suggest-section">
    <h2 class="section-title">ğŸ’¡ Proposer une unitÃ© ou arme</h2>
    <p class="suggest-desc">Envoyez vos crÃ©ations ! Elles seront visibles aprÃ¨s validation par l'admin.</p>
    <div class="suggest-tabs">
      <button class="btn btn-stab active" onclick="switchSuggestTab('unit',this)">ğŸª– UnitÃ©</button>
      <button class="btn btn-stab" onclick="switchSuggestTab('weapon',this)">ğŸ”« Arme</button>
    </div>
    <div id="suggest-unit" class="suggest-form">
      <div class="form-row"><div class="form-group"><label>Nom</label><input id="sg-name" placeholder="Ex: Clone Commandant Cody"></div>
      <div class="form-group"><label>Faction</label><select id="sg-faction"></select></div></div>
      <div class="form-row form-row-4">
        <div class="form-group"><label>â­ Points</label><input id="sg-pts" type="number" value="200"></div>
        <div class="form-group"><label>â¤ï¸ PV</label><input id="sg-hp" type="number" value="2"></div>
        <div class="form-group"><label>ğŸ›¡ï¸ Armure</label><input id="sg-arm" type="number" value="15"></div>
        <div class="form-group"><label>ğŸƒ M.M.</label><input id="sg-mm" type="number" value="0"></div>
      </div>
      <div class="form-row"><div class="form-group"><label>âš¡ PA</label><input id="sg-pa" type="number" value="5"></div>
      <div class="form-group"><label>ğŸ”« Armes (sÃ©parÃ©es par virgule)</label><input id="sg-weapons" placeholder="SW Fusil laser (bleu)"></div></div>
      <div class="form-group"><label>ğŸ“ Notes / CapacitÃ© spÃ©ciale</label><input id="sg-notes" placeholder="Ex: Largage, Vol, Kit de soin..."></div>
      <button class="btn btn-suggest" onclick="submitSuggestion('unit')">ğŸ“© Envoyer la proposition</button>
    </div>
    <div id="suggest-weapon" class="suggest-form" style="display:none">
      <div class="form-row"><div class="form-group"><label>Nom complet</label><input id="sgw-name" placeholder="SW Canon laser (bleu)"></div>
      <div class="form-group"><label>ğŸ¯ DifficultÃ©</label><input id="sgw-diff" type="number" value="15"></div></div>
      <div class="form-row form-row-4">
        <div class="form-group"><label>ğŸ’¥ Mun</label><input id="sgw-mun" type="number" value="3"></div>
        <div class="form-group"><label>ğŸ›¡ï¸ PÃ©n</label><input id="sgw-pen" type="number" value="5"></div>
        <div class="form-group"><label>â¤ï¸ DÃ©gÃ¢ts</label><input id="sgw-dmg" type="number" value="1"></div>
        <div class="form-group"><label>ğŸ“ PortÃ©e</label><input id="sgw-portee" placeholder="Cat.1/Cat.2"></div>
      </div>
      <div class="form-group"><label>ğŸ“ Notes</label><input id="sgw-notes" placeholder="Ex: Usage unique, montÃ© sur vÃ©hicule..."></div>
      <button class="btn btn-suggest" onclick="submitSuggestion('weapon')">ğŸ“© Envoyer la proposition</button>
    </div>
    <div id="suggest-count" class="suggest-count"></div>
  </section>

  <!-- SEO: Contenu texte riche pour Google -->
  <section class="seo-section">
    <h2 class="section-title">ğŸ§± Qu'est-ce que CrossBlocks ?</h2>
    <p>CrossBlocks est un <strong>wargame LEGO</strong> inspirÃ© de l'univers <strong>Star Wars</strong>. 
       CrÃ©ez vos propres <strong>cartes d'unitÃ©s</strong> avec des statistiques personnalisÃ©es 
       (points de vie, armure, armes, points d'action), simulez des <strong>batailles stratÃ©giques</strong> 
       et imprimez vos cartes au format A6.</p>
    <p>L'Ã©diteur en ligne est <strong>100% gratuit</strong> â€” pas d'inscription, pas de tÃ©lÃ©chargement. 
       Que vous jouiez avec des <strong>minifigures LEGO</strong>, des figurines peintes ou du papier, 
       CrossBlocks s'adapte Ã  votre style de jeu.</p>
    <details class="seo-details">
      <summary>ğŸ“– Comment jouer au wargame LEGO CrossBlocks ?</summary>
      <ol>
        <li><strong>CrÃ©ez vos unitÃ©s</strong> â€” utilisez l'Ã©diteur ci-dessus pour dÃ©finir les caractÃ©ristiques de chaque figurine</li>
        <li><strong>Calculez les points</strong> â€” le calculateur intÃ©grÃ© Ã©quilibre automatiquement le coÃ»t avec la loi de Lanchester</li>
        <li><strong>Imprimez vos cartes</strong> â€” exportez en PDF A6 pour avoir vos fiches pendant la partie</li>
        <li><strong>Composez votre armÃ©e</strong> â€” choisissez vos unitÃ©s avec un budget en points</li>
        <li><strong>Jouez !</strong> â€” utilisez le simulateur ou jouez en rÃ©el avec vos LEGO sur un plateau</li>
      </ol>
    </details>
    <details class="seo-details">
      <summary>âš”ï¸ Factions disponibles</summary>
      <p><strong>RÃ©publique</strong> (Clones Phase 2, Snipers, Commandants Rex & Fives, Airborne, vÃ©hicules AV-7 et CRAM), 
         <strong>SÃ©paratistes</strong> (DroÃ¯des B1, B2, Tri-DroÃ¯de, STAP), 
         <strong>Rebelles</strong> (Rebelles, Gardes, Jetpacks), 
         <strong>Empire</strong>. Chaque faction a ses forces et faiblesses pour des parties Ã©quilibrÃ©es.</p>
    </details>
  </section>

  <!-- FOOTER -->
  <footer class="site-footer">
    <button class="btn btn-admin-visible" id="admin-btn" onclick="promptAdmin()">ğŸ”’ Admin</button>
    <nav class="footer-links">
      <a href="index.html">Ã‰diteur de cartes</a> Â·
      <a href="game.html">Simulateur de batailles</a>
    </nav>
    <span>CrossBlocks Â© 2025 â€” Wargame LEGO gratuit</span>
  </footer>

  <!-- â•â•â• Panneau Admin â•â•â• -->
  <div id="adminPanel" class="admin-overlay" style="display:none">
    <div class="admin-panel">
      <div class="admin-header">
        <h2>âš™ï¸ Panneau Admin</h2>
        <button class="btn-close" onclick="closeAdmin()">âœ•</button>
      </div>
      <div class="admin-tabs">
        <button class="btn btn-admtab active" onclick="switchAdminTab('config',this)">âš™ï¸ Config</button>
        <button class="btn btn-admtab" onclick="switchAdminTab('pending',this)">ğŸ“¬ Propositions</button>
        <button class="btn btn-admtab" id="admin-bal-tab" style="display:none" onclick="switchAdminTab('balance',this)">âš–ï¸ Balance</button>
      </div>
      <div class="admin-body" id="admin-config">
        <h3>ThÃ¨mes disponibles</h3>
        <div id="adminThemes"></div>
        <h3>Armes et statistiques</h3>
        <div id="adminWeapons"></div>
      </div>
      <div class="admin-body" id="admin-pending" style="display:none">
        <h3>ğŸ“¬ Propositions en attente</h3>
        <p class="admin-desc">Les joueurs peuvent proposer de nouvelles unitÃ©s et armes. Approuvez-les pour les ajouter Ã  la galerie.</p>
      </div>
      <div class="admin-body" id="admin-balance" style="display:none">
        <h3>RÃ©Ã©quilibrage â€” Analyse Lanchester</h3>
        <p class="admin-desc">SystÃ¨me de rÃ©Ã©quilibrage proportionnel. Les prix sont ajustÃ©s en douceur (max Â±25%) par rapport aux prix actuels, calibrÃ©s sur le Clone Phase 2 = 200pts. Chaque suggestion peut Ãªtre appliquÃ©e individuellement ou en lot.</p>
        <h4 style="margin-top:12px;color:var(--accent);font-size:12px">UnitÃ©s</h4>
        <div id="balance-table"></div>
        <h4 style="margin-top:14px;color:var(--accent);font-size:12px">VÃ©hicules</h4>
        <div id="balance-table-vehicles"></div>
        <div class="balance-legend">
          <span class="bl-good">= Ã‰quilibrÃ©</span>
          <span class="bl-op">â–¼ Sur-cotÃ© (rÃ©duire)</span>
          <span class="bl-weak">â–² Sous-cotÃ© (augmenter)</span>
        </div>
      </div>
    </div>
  </div>

</div>

<script src="script.js"></script>
<script src="admin.js"></script>

</body>
</html>
